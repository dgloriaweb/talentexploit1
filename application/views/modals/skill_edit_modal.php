<!-- Modal -->
<div class="modal fade" id="skill_edit_modal" tabindex="-1" role="dialog" aria-labelledby="skill_edit_modal_label"
	aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="skill_edit_modal_label">
					<p id="skill" style="text-transform: capitalize;"></p>
				</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<?=form_open('skills/update');?>
			<div class="modal-body">
				<!-- javascript code, in this file, puts data into the fields below.  -->

				<div>
					<input type="text" id="skill_input" name="skill_input">
				</div>
				<b>Core skill(s):</b> 
				<div id="core_skill"> 				
				</div>
				<input type="hidden" id="skill_id" name="skill_id">
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				<button type="submit" class="btn btn-primary">Save changes</button>
			</div>
			<?=form_close();?>

		</div>
	</div>
</div>

<!-- script for populating the modal -->
<script>
	$(document).ready(function () {
		$('.view_detail').click(function () {
			var id = $(this).attr('relid'); //get the attribute value
			$.ajax({
				url: "<?php echo base_url(); ?>skills/get_skill_data",
				data: {
					id: id
				},
				method: 'GET',
				dataType: 'json',
				success: function (response) {
					$('#skill').html(response[0].skill);
					$('#skill_input').val(response[0].skill);
					$('#skill_id').val(response[0].skill_id);
					$.each(response,function(i) {
						$('#core_skill').append('<p><button type="button" class="btn btn-sm"><i class="fa fa-trash"></i></button> '+response[i].core_skill+'</p>')
					});
					$('#skill_edit_modal').modal({
						backdrop: 'static',
						keyboard: true,
						show: true
					});

				}
			});
		});
	});

</script>
