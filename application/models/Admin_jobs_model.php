<?php

class Admin_jobs_model extends CI_Model
{
    public function get_jobs()
    {
        $this->db->order_by('job_name');
        $query = $this->db->get('jobs');
        return $query->result();
    }

    public function get_job_by_id($job_id)
    {
        $this->db->where('jobs.job_id', $job_id);
        $query = $this->db->get('jobs');
        return $query->result();
    }

    public function update_job_preferences($job_id, $querydata)
    {
        $this->db->set('remote', $querydata['remote']);
        $this->db->set('overtime', $querydata['overtime']);
        $this->db->set('nightshift', $querydata['nightshift']);
        $this->db->set('other_shift', $querydata['other_shift']);
        $this->db->set('weekdays', $querydata['weekdays']);
        $this->db->set('saturday', $querydata['saturday']);
        $this->db->set('sunday', $querydata['sunday']);
        $this->db->set('bank_holidays', $querydata['bank_holidays']);
        $this->db->where('jobs.job_id', $job_id);
        if ($this->db->update('jobs')) {
            return true;
        } else {
            return false;
        }

    }
}
