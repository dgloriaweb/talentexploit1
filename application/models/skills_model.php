<?php

class skills_model extends CI_Model
{

    public function get_skills()
    {
        $this->db->select('skills.skill_id, skills.skill,skills_core_skills_link.core_skill_id,core_skills.core_skill');
        $this->db->from('skills');
        $this->db->join('skills_core_skills_link', 'skills.skill_id = skills_core_skills_link.skill_id');
        $this->db->join('core_skills', 'skills_core_skills_link.core_skill_id = core_skills.core_skill_id');
        $this->db->order_by('skills.skill');
        $query = $this->db->get();
        return $query->result();

    }

    public function get_core_skills()
    {
        $this->db->select('core_skills.core_skill_id,core_skills.core_skill');
        $this->db->from('core_skills');
        $this->db->order_by('core_skills.core_skill');
        $query = $this->db->get();
        return $query->result();

    }

    public function edit_skill($skill_id, $skill)
    {
        //UPDATE `skills` SET `skill`=[value-2] WHERE 1
        $this->db->set('skill', $skill, false);
        $this->db->where('skill', $skill_id);
        $this->db->update('skills');

    }
}
